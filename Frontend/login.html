<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Animated Login Page + Google Sign-In</title>
  <style>
    :root{--bg1:#0f172a;--bg2:#0b1220;--card:#0b1020;--accent:#7c3aed;--accent-2:#06b6d4;--glass: rgba(255,255,255,0.04);}*{box-sizing:border-box}html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}body{background: linear-gradient(120deg,var(--bg1),var(--bg2));display:flex;align-items:center;justify-content:center;min-height:100vh;overflow:hidden;color:#e6eef8}.blob{position:absolute;border-radius:50%;filter:blur(40px);opacity:0.28;animation:float 8s ease-in-out infinite}.blob a-big{width:500px;height:420px;background:linear-gradient(45deg,var(--accent),var(--accent-2));top:-10%;left:-5%;animation-duration:9s}.blob b-big{width:300px;height:300px;background:linear-gradient(135deg,#2dd4bf,#60a5fa);bottom:-8%;right:-6%;animation-duration:11s}.blob c-big{width:180px;height:180px;background:linear-gradient(90deg,#ff8a65,#ffb86b);top:10%;right:10%;animation-duration:13s}@keyframes float{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-30px) rotate(12deg)}100%{transform:translateY(0) rotate(0)}}.card{position:relative;z-index:2;width:420px;padding:40px;border-radius:16px;background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));backdrop-filter:blur(6px);box-shadow:0 10px 30px rgba(2,6,23,0.6);transform-origin:center;transition:transform 300ms cubic-bezier(.2,.8,.2,1)}.card:hover{transform:translateY(-6px) scale(1.01)}.brand{display:flex;gap:12px;align-items:center;margin-bottom:18px}.logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:700}.title{font-size:20px;font-weight:600}.subtitle{font-size:12px;color:rgba(230,238,248,0.72)}form{display:flex;flex-direction:column;gap:14px}.field{position:relative}label{position:absolute;left:14px;top:12px;font-size:13px;color:rgba(230,238,248,0.6);pointer-events:none;transition:all 180ms ease}input{width:100%;padding:18px 18px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;font-size:16px;outline:none;transition:box-shadow 180ms, border-color 180ms}input:focus{box-shadow:0 6px 18px rgba(7,9,25,0.6);border-color:rgba(124,58,237,0.5)}input:not(:placeholder-shown)+label,input:focus+label{transform:translateY(-10px) scale(0.92);color:var(--accent);top:8px}.row{display:flex;gap:10px}.remember{display:flex;align-items:center;gap:8px;font-size:13px;color:rgba(230,238,248,0.7)}.btn{margin-top:10px;padding:16px;border-radius:10px;border:0;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#06121f;font-weight:600;cursor:pointer;letter-spacing:0.3px;display:inline-flex;align-items:center;justify-content:center;gap:10px;position:relative;overflow:hidden}.btn:active{transform:scale(0.995)}.dots{display:inline-flex;gap:4px}.dot{width:6px;height:6px;border-radius:50%;background:rgba(2,6,23,0.7);opacity:0;transform:translateY(4px);animation:dot 1s infinite}.dot:nth-child(1){animation-delay:0s}.dot:nth-child(2){animation-delay:0.12s}.dot:nth-child(3){animation-delay:0.24s}@keyframes dot{0%{opacity:0;transform:translateY(4px)}50%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-4px)}}.success{display:flex;flex-direction:column;align-items:center;gap:12px;padding:20px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));text-align:center}.check{width:86px;height:86px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(90deg,#34d399,#10b981);box-shadow:0 8px 30px rgba(16,185,129,0.18);}.check svg{width:48px;height:48px;stroke:#052018;stroke-width:6;fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:100;stroke-dashoffset:100;animation:draw 700ms ease forwards}@keyframes draw{to{stroke-dashoffset:0}}.small{font-size:13px;color:rgba(230,238,248,0.76)}.foot{margin-top:12px;text-align:center;color:rgba(230,238,248,0.55);font-size:12px}@media (max-width:420px){.card{width:92vw;padding:18px}}  </style>
  <!-- Google Identity Services (load async) -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <div class="blob a" aria-hidden></div>
  <div class="blob b" aria-hidden></div>
  <div class="blob c" aria-hidden></div>

  <div class="card" id="card">
    <div class="brand">
      <div class="logo">AI</div>
      <div>
        <div class="title">Welcome Back</div>
        <div class="subtitle">Sign in to continue to your dashboard</div>
      </div>
    </div>

    <form id="loginForm" autocomplete="off">
      <div class="field">
        <input id="email" placeholder=" " type="email" required />
        <label for="email">Email</label>
      </div>

      <div class="field">
        <input id="password" placeholder=" " type="password" required minlength="4" />
        <label for="password">Password</label>
      </div>

      

      <button type="submit" class="btn" id="submitBtn">
        <span class="btn-text">Sign In</span>
        <span class="dots" style="display:none">
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </span>
      </button>

      <div style="display:flex;align-items:center;gap:10px;margin-top:10px">
        <hr style="flex:1;border:none;border-top:1px solid rgba(255,255,255,0.05)">
        <div style="font-size:12px;color:rgba(230,238,248,0.6)">or</div>
        <hr style="flex:1;border:none;border-top:1px solid rgba(255,255,255,0.05)">
      </div>

      <!-- Google Sign-In container -->
      <div id="gSignIn" style="margin-top:12px;display:flex;justify-content:center"></div>

      <!-- Optional fallback: a custom button that triggers the popup (uses token client) -->
      <div style="display:flex;justify-content:center;margin-top:10px">
        <button id="customGBtn" type="button" class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit;">
          <img src="https://developers.google.com/identity/images/g-logo.png" alt="g" style="width:18px;margin-right:8px"> Sign in with Google
        </button>
      </div>

    
      <!-- Forgot Password Link -->
      <div style="text-align:center;margin-top:14px">
        <a href="#" id="forgotLink" style="color:var(--accent-2);font-size:14px;text-decoration:none">Forgot Password?</a>
      </div>

    </form>

    <div class="foot">Don't have an account? <a href="Signup.html" style="color:inherit;text-decoration:underline">Sign up</a></div>
  </div>

  <template id="successTpl">
    <div class="success">
      <div class="check">
        <svg viewBox="0 0 52 52" xmlns="http://www.w3.org/2000/svg">
          <path d="M14 27 L22 34 L38 16" />
        </svg>
      </div>
      <div style="font-weight:700;font-size:16px">Logged in</div>
      <div class="small">Welcome back — redirecting you now...</div>
    </div>
  </template>

  <script>
    // subtle card tilt following cursor
    const card = document.getElementById('card');
    window.addEventListener('mousemove', (e) => {
      const rect = card.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;
      const dx = (e.clientX - cx) / 20; 
      const dy = (e.clientY - cy) / 30;
      card.style.transform = `perspective(900px) rotateX(${ -dy }deg) rotateY(${ dx }deg)`;
    });
    window.addEventListener('mouseleave', ()=>{card.style.transform='none'})

    const form = document.getElementById('loginForm');
    const btn = document.getElementById('submitBtn');
    const btnText = btn.querySelector('.btn-text');
    const dots = btn.querySelector('.dots');

    form.addEventListener('submit', (ev)=>{
      ev.preventDefault();
      const email = document.getElementById('email');
      const pass = document.getElementById('password');
      if(!email.checkValidity()){email.focus();shake(email);return;}  
      if(!pass.checkValidity()){pass.focus();shake(pass);return;}
      btn.disabled = true;btnText.style.display='none';dots.style.display='inline-flex';
      setTimeout(()=>{showSuccess();}, 1200);
    });

    function shake(el){el.style.transition='transform 120ms';el.style.transform='translateX(-8px)';setTimeout(()=>{el.style.transform='translateX(8px)';},120);setTimeout(()=>{el.style.transform='translateX(0)';el.style.transition='';},260);}

    function showSuccess(){
      const tpl = document.getElementById('successTpl');
      const node = tpl.content.cloneNode(true);
      const parent = form.parentElement;
      parent.replaceChild(node, form);
      const blobs = document.querySelectorAll('.blob');
      blobs.forEach((b,i)=>{b.style.transition='transform 700ms, opacity 700ms'; b.style.transform='scale(1.2)'; b.style.opacity = i===0? '0.36':'0.18'});
      setTimeout(()=>{card.style.transition='transform 500ms ease, opacity 500ms';card.style.transform='scale(0.96) translateY(-6px)';card.style.opacity='0.98';}, 900);
    }

    /* --------------------
       Google Identity Services
       --------------------
       - You MUST replace 'YOUR_GOOGLE_CLIENT_ID' with your actual OAuth 2.0 Web Client ID
       - For production, verify the ID token on your server: POST the credential (JWT) to your backend
         and validate it using Google's tokeninfo endpoint or an official library.
       - If you just want front-end demo, the handler below decodes the JWT client-side and shows a success UI.
    */

    function handleCredentialResponse(response){
      // encoded JWT ID token: response.credential
      console.log('Encoded ID token:', response.credential);
      // decode (quick, not secure) to show name/email in demo
      const payload = JSON.parse(atob(response.credential.split('.')[1]));
      console.log('Decoded JWT payload:', payload);

      // show success UI and personalise
      showGoogleSuccess(payload);

      // In production: send `response.credential` to your server to verify and create a session.
    }

    function showGoogleSuccess(payload){
      const tpl = document.getElementById('successTpl');
      const node = tpl.content.cloneNode(true);
      const greeting = node.querySelector('.small');
      greeting.textContent = `Hi ${payload.name || payload.email} — signing you in...`;
      const parent = form.parentElement;
      parent.replaceChild(node, form);
    }

    // Render the Google Sign-In button once the GIS script loads
    window.onload = function(){
      // Replace with your client ID
      const CLIENT_ID = 'YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com';

      if(window.google && google.accounts && google.accounts.id){
        google.accounts.id.initialize({
          client_id: CLIENT_ID,
          callback: handleCredentialResponse,
          ux_mode: 'popup' // 'popup' or 'redirect'
        });

        // render the default Google button into #gSignIn
        google.accounts.id.renderButton(
          document.getElementById('gSignIn'),
          { theme: 'outline', size: 'large', width: 310 }
        );

        // optional: prompt One Tap (disabled by default)
        // google.accounts.id.prompt();

        // Custom button fallback: trigger prompt with token client (useful for explicit button)
        const customBtn = document.getElementById('customGBtn');
        customBtn.addEventListener('click', ()=>{
          // The simplest approach: call prompt() to show One Tap if available.
          // For a full OAuth flow with scopes, you would use the token client library.
          google.accounts.id.prompt();
        });
      } else {
        console.warn('Google Identity Services not loaded yet.');
      }
    };
  </script>


<!-- Forgot Password Modal -->
<div id="forgotModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(4px);z-index:50;align-items:center;justify-content:center;">
  <div style="background:rgba(255,255,255,0.06);padding:26px;width:360px;border-radius:16px;box-shadow:0 8px 30px rgba(0,0,0,0.4);animation:pop 0.25s ease">
    <h3 style="margin:0 0 10px 0;font-size:18px">Reset Password</h3>
    <p style="font-size:13px;color:rgba(255,255,255,0.7);margin-bottom:14px">Enter your email to receive password reset link</p>

    <input id="forgotEmail" type="email" placeholder="Enter your email" style="width:100%;padding:12px 14px;background:transparent;border:1px solid rgba(255,255,255,0.2);border-radius:10px;color:white;font-size:14px;outline:none;">

    <button id="sendReset" class="btn" style="width:100%;margin-top:14px">Send Reset Link</button>
    <button id="closeModal" style="margin-top:10px;padding:10px;width:100%;border-radius:10px;border:1px solid rgba(255,255,255,0.2);background:transparent;color:white;cursor:pointer">Cancel</button>
  </div>
</div>

<style>
@keyframes pop{0%{transform:scale(0.85);opacity:0;}100%{transform:scale(1);opacity:1;}}
</style>

<script>
// Forgot Password Modal Logic
const forgotLink = document.getElementById('forgotLink');
const forgotModal = document.getElementById('forgotModal');
const closeModal = document.getElementById('closeModal');
const sendReset = document.getElementById('sendReset');
const forgotEmail = document.getElementById('forgotEmail');

forgotLink.addEventListener('click', ()=>{
  forgotModal.style.display='flex';
});

closeModal.addEventListener('click', ()=>{
  forgotModal.style.display='none';
});

sendReset.addEventListener('click', ()=>{
  if(!forgotEmail.value){
    forgotEmail.style.borderColor='red';
    return;
  }
  forgotEmail.style.borderColor='';
  alert('Password reset link sent to ' + forgotEmail.value);
  forgotModal.style.display='none';
});

    function showSuccess(){
      const tpl = document.getElementById('successTpl');
      const node = tpl.content.cloneNode(true);
      const parent = form.parentElement;
      parent.replaceChild(node, form);
      const blobs = document.querySelectorAll('.blob');
      blobs.forEach((b,i)=>{b.style.transition='transform 700ms, opacity 700ms'; b.style.transform='scale(1.2)'; b.style.opacity = i===0? '0.36':'0.18'});
      setTimeout(()=>{card.style.transition='transform 500ms ease, opacity 500ms';card.style.transform='scale(0.96) translateY(-6px)';card.style.opacity='0.98';}, 900);
      // redirect to dashboard after the success animation completes
      setTimeout(()=>{ window.location.href = 'dashborad.html'; }, 1600);
    }

</script>

</body>
</html>
