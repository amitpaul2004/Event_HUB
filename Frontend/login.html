<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Animated Login Page + Google Sign-In</title>

  <style>
    :root{--bg1:#0f172a;--bg2:#0b1220;--card:#0b1020;--accent:#7c3aed;--accent-2:#06b6d4;--glass: rgba(255,255,255,0.04);}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial}
    body{
      background: linear-gradient(120deg,var(--bg1),var(--bg2));
      display:flex;align-items:center;justify-content:center;
      min-height:100vh;overflow:hidden;color:#e6eef8
    }

    .blob{position:absolute;border-radius:50%;filter:blur(40px);opacity:0.28;animation:float 8s ease-in-out infinite}
    .blob.a{width:500px;height:420px;background:linear-gradient(45deg,var(--accent),var(--accent-2));top:-10%;left:-5%}
    .blob.b{width:300px;height:300px;background:linear-gradient(135deg,#2dd4bf,#60a5fa);bottom:-8%;right:-6%}
    .blob.c{width:180px;height:180px;background:linear-gradient(90deg,#ff8a65,#ffb86b);top:10%;right:10%}

    @keyframes float{
      0%{transform:translateY(0)}
      50%{transform:translateY(-30px)}
      100%{transform:translateY(0)}
    }

    .card{
      position:relative;z-index:2;width:420px;padding:40px;border-radius:16px;
      background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));
      backdrop-filter:blur(6px);box-shadow:0 10px 30px rgba(2,6,23,0.6);
      transform-origin:center;transition:transform 300ms cubic-bezier(.2,.8,.2,1)
    }
    .card:hover{transform:translateY(-6px) scale(1.01)}

    .brand{display:flex;gap:12px;align-items:center;margin-bottom:18px}
    .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:700}

    .title{font-size:20px;font-weight:600}
    .subtitle{font-size:12px;color:rgba(230,238,248,0.72)}

    form{display:flex;flex-direction:column;gap:14px}
    .field{position:relative}
    label{
      position:absolute;left:14px;top:12px;font-size:13px;
      color:rgba(230,238,248,0.6);pointer-events:none;transition:180ms
    }

    input{
      width:100%;padding:18px;border-radius:10px;
      border:1px solid rgba(255,255,255,0.04);background:transparent;
      color:inherit;font-size:16px;outline:none;
      transition:box-shadow 180ms,border-color 180ms
    }
    input:focus{box-shadow:0 6px 18px rgba(7,9,25,0.6);border-color:rgba(124,58,237,0.5)}
    input:not(:placeholder-shown)+label,input:focus+label{
      transform:translateY(-10px) scale(0.92);color:var(--accent);top:8px
    }

    .btn{
      margin-top:10px;padding:16px;border-radius:10px;border:0;
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#06121f;font-weight:600;cursor:pointer;
      display:flex;align-items:center;justify-content:center;gap:10px;
    }

    .dots{display:none;gap:4px}
    .dot{width:6px;height:6px;background:#0006;border-radius:50%;animation:dot 1s infinite}
    .dot:nth-child(2){animation-delay:.12s}
    .dot:nth-child(3){animation-delay:.24s}

    @keyframes dot{
      0%{opacity:0;transform:translateY(4px)}
      50%{opacity:1;transform:translateY(0)}
      100%{opacity:0;transform:translateY(-4px)}
    }

    .success{
      display:flex;flex-direction:column;align-items:center;gap:12px;
      padding:20px;border-radius:14px;
      background:rgba(255,255,255,0.02);text-align:center
    }
    .check{
      width:86px;height:86px;border-radius:50%;
      display:grid;place-items:center;
      background:linear-gradient(90deg,#34d399,#10b981);
    }

    .foot{text-align:center;margin-top:14px;color:#ccc;font-size:12px}
  </style>

  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>

  <div class="blob a"></div>
  <div class="blob b"></div>
  <div class="blob c"></div>

  <div class="card" id="card">
    <div class="brand">
      <div class="logo">AI</div>
      <div>
        <div class="title">Welcome Back</div>
        <div class="subtitle">Sign in to access your dashboard</div>
      </div>
    </div>

    <form id="loginForm" autocomplete="off">
      <div class="field">
        <input id="email" placeholder=" " type="email" required />
        <label for="email">Email</label>
      </div>

      <div class="field">
        <input id="password" placeholder=" " type="password" required minlength="4" />
        <label for="password">Password</label>
      </div>

      <button type="submit" class="btn" id="submitBtn">
        <span class="btn-text">Sign In</span>
        <span class="dots">
          <span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </span>
      </button>

      <div class="foot">
        Don't have an account? <a href="signup.html" style="color:#fff;text-decoration:underline;">Sign up</a>
      </div>
    </form>
  </div>

  <template id="successTpl">
    <div class="success">
      <div class="check">
        <svg viewBox="0 0 52 52"><path d="M14 27 L22 34 L38 16" stroke="#052018" stroke-width="6" fill="none"/></svg>
      </div>
      <div style="font-weight:700;font-size:16px">Logged in</div>
      <div class="small">Redirecting to dashboard...</div>
    </div>
  </template>

  <script>
    // tilt effect
    const card = document.getElementById('card');
    window.addEventListener('mousemove', e => {
      const r = card.getBoundingClientRect();
      const dx = (e.clientX - (r.left + r.width/2)) / 20;
      const dy = (e.clientY - (r.top + r.height/2)) / 30;
      card.style.transform = `perspective(900px) rotateX(${-dy}deg) rotateY(${dx}deg)`;
    });

    const form = document.getElementById('loginForm');
    const btn = document.getElementById('submitBtn');
    const dots = btn.querySelector('.dots');
    const btnText = btn.querySelector('.btn-text');

    form.addEventListener('submit', (ev)=>{
      ev.preventDefault();

      const email = document.getElementById('email');
      const pass = document.getElementById('password');

      if(!email.value){shake(email);return;}
      if(!pass.value){shake(pass);return;}

      btn.disabled = true;
      btnText.style.display='none';
      dots.style.display='inline-flex';

      const fd = new FormData();
      fd.append("email", email.value);
      fd.append("password", pass.value);

      fetch("../Backend/login.php", {
        method: "POST",
        body: fd
      })
      .then(r => r.json())
      .then(data => {
        if(data.status === "success"){
          showSuccess();
          setTimeout(()=>{ window.location.href="../Backend/dashboard.php"; }, 1600);
        } else {
          alert(data.message);
          btn.disabled = false;
          btnText.style.display='inline';
          dots.style.display='none';
        }
      })
      .catch(()=>{
        alert("Server error! Check login.php");
        btn.disabled=false;
        btnText.style.display='inline';
        dots.style.display='none';
      });
    });

    function shake(el){
      el.style.transition='120ms';
      el.style.transform='translateX(-8px)';
      setTimeout(()=>{el.style.transform='translateX(8px)'},100);
      setTimeout(()=>{el.style.transform='translateX(0)'},200);
    }

    function showSuccess(){
      const tpl = document.getElementById('successTpl').content.cloneNode(true);
      form.parentElement.replaceChild(tpl, form);
    }
  </script>

</body>
</html>
